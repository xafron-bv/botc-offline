<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Blood on the Clocktower - Offline Grimoire</title>
  <link rel="stylesheet" href="/assets/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#583286">
</head>
<body>
  <div id="app">
    <div id="sidebar">
      <div class="section">
        <h3>Game Setup</h3>
        <div>
          <label for="player-count">Player Count:</label>
          <input type="number" id="player-count" min="5" max="20" value="7">
        </div>
        <button class="button" id="start-game">Start Game</button>
      </div>

      <div class="section">
        <h3>Script Management</h3>
        <div>
          <button class="button" id="load-default-tokens">Load Default Tokens</button>
          <div class="status" id="load-status"></div>
        </div>
        <div style="margin-top: 15px;">
          <label for="script-file">Or Upload Custom Script:</label>
          <input type="file" id="script-file" accept=".json">
        </div>
      </div>

      <div class="section">
        <h3>Character Sheet</h3>
        <div id="character-sheet">
          <p>Load a script to see available characters.</p>
        </div>
      </div>
    </div>

    <div id="grimoire">
      <div id="center">
        <ul id="player-circle" class="circle"></ul>
      </div>
    </div>
  </div>

  <div id="character-modal" class="modal">
    <div class="modal-content">
      <h3>Select Character for <span id="character-modal-player-name"></span></h3>
      <input type="text" id="character-search" placeholder="Search characters...">
      <div id="character-grid"></div>
      <button class="button" id="close-character-modal">Cancel</button>
    </div>
  </div>

  <div id="text-reminder-modal" class="modal">
    <div class="modal-content">
      <h3>Add/Edit Reminder</h3>
      <input type="text" id="reminder-text-input" placeholder="Enter reminder text...">
      <button class="button" id="save-reminder-btn">Save</button>
      <button class="button" id="cancel-reminder-btn">Cancel</button>
    </div>
  </div>

  <div id="reminder-token-modal" class="modal">
    <div class="modal-content">
      <h3>Select Reminder Token for <span id="reminder-token-modal-player-name"></span></h3>
      <input type="text" id="reminder-token-search" placeholder="Search reminder tokens...">
      <div id="reminder-token-grid"></div>
      <button class="button" id="close-reminder-token-modal">Cancel</button>
    </div>
  </div>

  <footer style="position: fixed; bottom: 10px; right: 10px; z-index: 1001;">
    <a href="/terms.html" style="color: #9a6bc8; text-decoration: none; background: rgba(0,0,0,0.6); padding: 6px 10px; border-radius: 6px; border: 1px solid #7a4ba8;">Terms of Use</a>
  </footer>

  <script src="script.js"></script>
</body>
</html>
